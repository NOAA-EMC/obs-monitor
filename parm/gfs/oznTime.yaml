#
# Time series plots for OznMon gfs
#
# Generate separate 30 day time/series plots for:
#   - number of obs 
#   - penalty
#   - omgnbc
#   - bias correction
#   - omgbc

diagnostics:

# Data read
# ---------
datasets:
  - name: time
    satellite: {{SAT}}
    sensor: {{SENSOR}}
    type: MonDataSpace
    control_file:
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.ctl
    filenames:
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATE | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm6 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm12 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm18 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm24 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm30 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm36 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm42 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm48 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm54 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm60 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm66 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm72 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm78 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm84 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm90 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm96 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm102 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm108 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm114 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm120 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm126 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm132 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm138 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm144 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm150 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm156 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm162 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm168 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm174 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm180 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm186 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm192 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm198 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm204 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm210 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm216 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm222 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm228 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm234 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm240 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm246 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm252 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm258 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm264 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm270 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm276 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm282 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm288 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm294 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm300 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm306 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm312 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm318 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm324 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm330 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm336 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm342 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm348 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm354 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm360 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm366 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm372 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm378 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm384 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm390 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm396 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm402 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm408 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm414 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm420 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm426 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm432 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm438 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm444 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm450 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm456 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm462 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm468 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm474 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm480 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm486 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm492 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm498 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm504 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm510 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm516 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm522 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm528 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm534 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm540 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm546 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm552 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm558 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm564 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm570 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm576 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm582 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm588 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm594 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm600 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm606 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm612 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm618 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm624 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm630 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm636 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm642 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm648 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm654 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm660 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm666 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm672 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm678 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm684 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm690 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm696 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm702 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm708 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm714 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm720 | to_YMDH }}.ieee_d
      - {{DATA}}/ozn_data/time/{{SENSOR}}_{{SAT}}.{{STEP}}.{{ PDATEm726 | to_YMDH }}.ieee_d

    levels: {{LEVELS}}
    regions: &regions 1
    groups:
      - name: GsiIeee
        variables: &variables ['cnt', 'cpen', 'sdvomg', 'avgomg']

graphics:

  plotting_backend: Emcpy
  figure_list:

    # Obs count plots
    # ---------------
    - batch figure:
        levels: {{LEVELS}}
        variables: ['cnt', 'cpen']
        sensor: {{SENSOR}}

      figure:
        layout: [1,1]
        figure size: [20,18]
        tight layout:
        title: "${variable}, {{SENSOR}}_{{SAT}} level ${level}  \n Valid: {{ PDATE | to_YMDH }}"
        output name: line_plots/{{SENSOR}}_{{SAT}}/ozn/time/{{SENSOR}}_{{SAT}}.${level}.${variable}.png
        plot logo:
          which: 'noaa/nws'
          loc: 'upper right'

      plots:
        - add_xlabel: 'Cycle'
          add_ylabel: '${variable}'
          layers:
          - type: LinePlot
            x:
              variable: time::GsiIeee::cycle
            y:
              variable: time::GsiIeee::${variable}
            color: 'blue'
            level: ${level}
          add_grid:
            axis: 'both'
            linestyle: 'dotted'
            linewidth: 0.25
            color: 'black'


    # All defined variables
    # ---------------------
    - batch figure:
        variables: ['sdvomg']
        levels: {{LEVELS}}

      figure:
        layout: [2,1]
        figure size: [20,18]
        tight layout:
        title: "obs-{{STEP}} {{SENSOR}}_{{SAT}} level ${level}  \n Valid: {{ PDATE | to_YMDH }}"
        output name: line_plots/{{SENSOR}}_{{SAT}}/ozn/time/{{SENSOR}}_{{SAT}}.${level}.omg.png
        plot logo:
          which: 'noaa/nws'
          loc: 'upper right'

      plots:
        - add_xlabel: 'Cycle'
          add_ylabel: "Standard Deviation"
          layers:
          - type: LinePlot
            x:
              variable: time::GsiIeee::cycle
            y:
              variable: time::GsiIeee::${variable}
            color: 'red'
            level: ${level}
          add_grid:
            axis: 'both'
            linestyle: 'dotted'
            linewidth: 0.25
            color: 'black'

        - add_xlabel: 'Cycle'
          add_ylabel: "Average"
          layers:
          - type: LinePlot
            x:
              variable: time::GsiIeee::cycle
            y:
              variable: time::GsiIeee::avgomg
            color: 'blue'
            level: ${level}
          add_grid:
            axis: 'both'
            linestyle: 'dotted'
            linewidth: 0.25
            color: 'black'
