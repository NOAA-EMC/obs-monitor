diagnostics:

# Data read
# ---------
datasets:
  - name: bcoef
    satellite: atms
    sensor: n20
    type: RadDataSpace
    filename: /scratch1/NCEPDEV/da/Kevin.Dougherty/data_processing_tool/data/diag_atms_n20_2021032500.nc
    channels: &chans [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22]
    qc variable: &qcvar EffectiveQC0
    outfile: /scratch1/NCEPDEV/da/Kevin.Dougherty/obs-monitor/outfile.nc
    variables to process:
    - function: calculate_omf
      groups: ['hofx0', 'hofx1']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      bias corrected: 
      - bias correction used: True
        bias groups: ['obsBias0', 'obsBias1']
      groups out: [omgbc0, omgbc1]

    - function: calculate_penalty
      groups: ['hofx0', 'hofx1']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      groups out: [penalty0, penalty1]

    - function: grab_data
      groups: ['ObsBias0']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      groups out: [obsBias0]

    - function: grab_data
      groups: ['ObsBias1']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      groups out: [obsBias1]

    - function: grab_data
      groups: ['lapse_ratePredictor']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      groups out: [lapserate1]

    - function: grab_data
      groups: ['lapse_rate_order_2Predictor']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      groups out: [lapserate2]

    - function: grab_data
      groups: ['constantPredictor']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      groups out: [constant]

    - function: grab_data
      groups: ['emissivityPredictor']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      groups out: [emissivity]

    - function: grab_data
      groups: ['scan_anglePredictor']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      groups out: [scanangle]

    - function: grab_data
      groups: ['scan_angle_order_2Predictor']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      groups out: [scanangle2]

    - function: grab_data
      groups: ['scan_angle_order_3Predictor']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      groups out: [scanangle3]

    - function: grab_data
      groups: ['scan_angle_order_4Predictor']
      variable: 'brightnessTemperature'
      channels: *chans
      qc var: *qcvar
      groups out: [scanangle4]
